# Системы счисления

**Система счисления** (numeral system, system of numeration) — представление чисел при помощи символов.

**Двоичная, бинарная** (binary): 0, 1.  
**Десятичная** (decimal): 0, 1, 2, 3, 4, 5, 6, 7, 8, 9.  
**Шестнадцатеричная** (hexadecimal): 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F.

Чтобы не путать с 10 c/c, в 16 с/c к числу обычно добавляют `0x` в начало.

Двоичные цифры 0 и 1 называют **битами** (bit), они взаимоисключаемы: 0 - ложь, 1 - истина.

**Байт** (byte) — *последовательность из 8 бит*, её можно компактно представить в виде шестнадцатеричного числа.
```css
00000000 = 0 (0x0)
10110011 = B3 (0xB3)
11111111 = FF (0xFF)
```

Аналогично, **ниббл** (nibble), **полубайт** (half-byte) или **тетрада** (tetrade) — 4 бита, **слово** (word) — 16 бит, **двойное слово** (double word, dword) — 32 бита.

*Отсчёт битов* в *двоичном числе* начинается *с нуля* и идёт *справа налево*.  
**Младший бит, нулевой бит** — крайний справа, **старший бит** — крайний слева.

# Кодировки символов

**Символ** (character) — минимальная единица текста, имеющая семантическое значение.

Пример символов: `G` — латинская буква G, `(` — открывающая круглая скобка, `<` — знак меньше.

**Множество символов** (character set) — набор, совокупность символов, которые могут быть использованы в разных языках.  

Например, множество символов `{ A, B, C, D }` используются в английском, немецком и других языках.

**Кодировка символов** (character encoding) — представление символов какой-то системой кодирования.

**Закодированное множество символов** (coded character set) — *множество символов*, каждый символ которого соответствует какому-то уникальному номеру.  
```css
/* закодированное множество символов { A, B, C, D } (ключ — значение) */

/* ASCII */
65 — A
66 — B
67 — C
68 — D

/* Unicode */
U+41 — A
U+42 — B
U+43 — C
U+44 — D
```
То есть существует другое множество — *множество уникальных номеров*, определяемое *кодировкой*, с которым у *множества символов* установлено *взаимно однозначное соответствие*.

**Взаимно однозначное соответствие, биекция** — такое *соответствие между элементами двух множеств*, при котором *каждому элементу первого* множества *соответствует один определенный элемент второго* множества, а *каждому элементу второго* множества — *один определенный элемент первого* множества.

**Кодовая точка, позиция кода** (code point, code position) — любой элемент из *множества уникальных номеров* заданной *кодировки*.  

В примере выше *кодовыми точками* в кодировках *ASCII* и *Unicode* являются `66, 66, 67, 68` и `U+41, U+42, U+43, U+44` соответственно.
<!-- Кодовые точки представлены числами в шестнадцатеричной системе счисления (hexadecimal). -->

Количество кодовых точек в различных кодировках:
* ASCII - 128 кодовых точек (0 - 7F).  
* Extended ASCII - 256 (0 - FF).
* Unicode - 1114112 (0 - 10FFFF), поскольку состоит из 17 плоскостей (каждая из них содержит 2^16 кодовых точек).

К *кодовым точкам Unicode* принято добавлять `U+` в начало, чтобы можно было отличить кодировку от других.
```css
/* кодовые точки латинской буквы "M" */
UTF-8:  U+4D
UTF-16: U+004D
UTF-32: U+0000004D

/* кодовые точки фигурной скобки "{" */
UTF-8:  U+65115
UTF-16: U+65115
UTF-32: U+00065115
```

**Кодовая единица** (code unit) — последовательность бит, используемая для кодирования символа из множества символов заданной кодировки.

*Кодовая единица* состоит из *заданного кодировкой количества бит*:
* ASCII - 7 бит
* UTF-8 - 8 бит
* UTF-16 - 16 бит
* UTF-32 - 32 бит

Каждая *кодовая точка* представляется в виде *последовательности кодовых единиц*.  

Чем *больше бит вмещается* в *кодовой единице*, тем *меньше кодовых единиц требуется* для *представления кодовой точки*.  
* UTF-8: 1-4 кодовых единиц
* UTF-16: 1-2 кодовые единицы (две требуеются для символов, идущих после U+10000)
* UTF-32: 1 кодовая единица

```css
/* кодовые единицы латинской буквы "M" */
UTF-8:  4D
UTF-16: 004D
UTF-32: 0000004D

/* кодовые единицы фигурной скобки "{" */
UTF-8:  EF B9 9B
UTF-16: FE5B
UTF-32: 0000FE5B
```

## ASCII

**ASCII** (American Standard Code for Information Interchange) — американский стандартный код для обмена информацией.

Большинство кодировок символов берут ASCII за основу (например, Unicode), дополняя её другими символами.

ASCII создавалась для кодирования символов, коды которых вмещались в 7 бит (2^7 = 128 символов), 8-ой бит использовался для ошибок, возникших при передаче данных.  

На большинстве компьютеров минимально адресуемая единица памяти — байт (8 бит), поэтому там используются 8-битные вместо 7 (добавляется дополнительный старший бит, например, 0).  

Затем появилась расширенная (extended) ASCII кодировка, использующая 8 бит (2^8 = 256 символов).

Изначально ASCII была разработана для телекомуникационного оборудования (печатные машинки для передачи сообщений), поэтому помимо символов, выводимых на печать, содержит управляющие символы, которые не печатаются.
* `EOT` (end of transmission) — конец файла
* `LF` (line feed) — перевод строки (характерен для Unix)
* `CR` (carriage return) — возврат каретки (курсор перемещается в начало текущей строки, не переходя на новую)
* `CR LF` - перевод строки (характерен для Windows)
* `FF` (form feed) — прогон страницы (продолжить печать со следующего листа)
* `BS` (backspace) — возврат на один символ
* `DEL` (delete) — стереть последний символ
* `TAB` (tab) — горизонтальная табуляция
* `CAN` (cancel) — отмена
* и другие.

С помощью символа BS (возврат на один символ) можно печатать один символ поверх другого (например, добавить диакритический знак).
* `a BS '` → á
* `c BS ,` → ç
* `o BS /` → ø
* `t BS t` → **t** (дважды тот же символ — выделение жирным)

Существуют национальные варианты ASCII, где некоторые символы заменяются на свойственные языку.

# Кодирование

## UTF-8

**UTF-8** (Unicode Transformation Format, 8-bit) — формат преобразования Юникода, 8-бит.
