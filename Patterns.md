## MVC и его модификации

### Подлинный MVC
В 1970-ых обязанности не разделялись: смешивание HTML, CSS, бизнес-логики и работы с базой данных считалось нормальной практикой. С ростом таких приложений становилось понятно, что они очень запутанны и их невозможно поддерживать (тратится слишком много ресурсов), поэтому нередко разросшиеся приложения приходилось переписывать с нуля.

В 1979 появился шаблон проектирования **MVC** (Model-View-Controller), попытавшийся разрешить проблему, продвигая идею **разделения ответственности** (separation of concerns, SoC) между бэкендом и фронтендом, UI и бизнес-логикой.

MVC разделяет приложение на 3 концептуальные единицы
* **Модель** (Model) представляет бизнес-логику (данные и правила работы с ними) приложения.
* **Представление** (View) - UI-компонента (кнопка, поле для ввода и прочее).
* **Контроллер** (Controller) выступает координатором между View и Model: решает, какие Views показывать и с какими данными, переводит действия пользователя (например, клик по кнопке) в бизнес-логику.

Модель может быть представлена объектом или структурой объектов.

*Особенности подлинного MVC*   
1) View использует объекты данных напрямую из Model, чтобы эти данные отобразить.  
2) Когда данные в Model меняются, срабатывает событие, которое немедленно обновляет View.  
3) Один View обычно привязан к одному Controller.  
4) Каждый экран может иметь несколько пар View-Controller.  
5) Controller может быть связан с несколькими View. 

*Проблема подлинного MVC*  
Когда MVC прявился, HTTP ещё не было. Сейчас же при попытке описать полноценное приложение (HTTP-клиент + HTTP-сервер) понятно, что оригинальный MVC работать не сможет: при обновлении данных в БД клиент не получает данные напрямую, а делает это по запросу к серверу (через Controller). Это можно решить при помощи веб-сокетов, но не всегда есть в этом необходимость

### Model View Controller (MVC)

*MVC* разделяет приложение на *3 компонента*.

**Модель** (Model) *представляет данные* и *правила* (методы) *работы* с ними.  

*Модель реагирует* на *запросы Контроллера*, *изменяя* своё *состояние*.  

*Модель не* содержит информации, *как* отобразить данные.

**Представление** (View) *отображает данные Модели пользователю*.  

*Представление реагирует* на *изменения Модели*, всегда *отображая* её *обновлённую версию*.

**Контроллер** (Controller) *обрабатывает данные пользователя через Модель* и затем *посылает* их *Представлению*.  

*Контроллер* выступает *промежуточным слоем* между *Моделью* и *Представлением*.


Пользователь видит Представление и совершает действие над ним.  
Действие передаётся Контроллеру.  
Контроллер обновляет данные Модели.  
Модель уведомляет Контроллер об изменении состояния.  
Контроллер посылает данные Представлению.  
Пользователь видит обновлённое Представнение.
