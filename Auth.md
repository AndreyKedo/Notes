- [Аутентификация vs Авторизация vs Идентификация](#аутентицикация-vs-авторизация-vs-идентификация)
- [Виды идентификаторов](#виды-идентификаторов)
- [Виды аутентификации](#виды-аутентификации)
  - [Базовая](#basic)
  - [Bearer](#bearer)
- [Токены](#токены)
  - [Виды токенов](#виды-токенов)
- [Сессии](#сессии)

## Аутентификация vs Авторизация vs Идентификация

**Идентификация** (лат. identifico — отождествлять) — *процедура распознавания объекта* (субъекта) по его *идентификатору*.  

Например, можно *идентифирировать* человека по имени, электронной почте, номеру телефона или паспорта.

**Аутентификация** (греч. αυθεντικός — подлинный) — процедура проверки подлинности.

Например, можно определить подлинность проверкой пароля, отпечатка пальца, наличием пропуска или ключа от двери.

**Авторизация** (англ. authorization «разрешение; уполномочивание») – предоставление доступа к какому-либо ресурсу.

### Взаимосвязь
Стандартная последовательность действий на любом сайте.
* Установление личности (username, email, phone) – идентификация.
* Проверка подлинности (password) – аутентификация.
* Предоставление доступа – авторизация.

## Объект и субъект
**Объект** (лат. objectum — предмет) — философская категория, обозначающая вещь, явление или процесс, на которые направлена предметно-практическая, управляющая и познавательная деятельность субъекта (наблюдателя); при этом в качестве объекта может выступать и сам субъект.

## Виды идентификаторов. ID, UID, UUID и GUID

**Идентификатор** (identifier, ID) — уникальный признак объекта (субъекта), позволяющий отличать его от других объектов (идентифицировать).

**UUID (universally unique identifier)** — *стандарт идентификации*, стандартизированный Open Software Foundation как часть среды распределённый вычислений (DCE). 

UUID позволяет уникально идентифицировать информацию, не имея при этом центра координации.  
То есть любой может создать UUID и использовать его для идентификации чего-либо с достаточным уровнем уверенности, что этот идентификатор не будет использован для чего-либо ещё непреднамеренно.

*UUID* имеет *несколько версий*, в которых используются:
* **Версии 1 и 2** - *время* и *MAC-адрес*.
* **Версия 3** - *хеширование* алгоритмом *MD5*.
* **Версия 4** - генерация *случайным образом*.
* **Версия 5** - *хеширование* алгоритмом *SHA-1*.

*UUID* в Node.js:
```bash
npm i uuid
```

# Виды аутентификации

Для *проверки подлинности* (аутентификации) пользователя обычно на сервер вместе с запросом передаётся заголовок `Authorization`, в котором размещают тип аутентификации и соответствующие ей данные.
```http
Authorization: <type> <credentials>
```

## Базовая

**Базовая** (Basic) **аутентификация** подразумевает передачу в заголовок имени пользователя и пароля в виде строки следующего вида `username:password`, зашифрованной в Base64.
```http
Authorization: Basic <encodedCredentials>
```
В JavaScript можно кодировать и декорировать Base64 следующим образом.
```js
const credentials = 'admin:admin';
/* кодировка */
const encodedCredentials = btoa('admin:admin');
console.log(encodedCredentials); // 'YWRtaW46YWRtaW4='
/* декодировка */
const decodedCredentials = atob('YWRtaW46YWRtaW4=');
console.log(decodedCredentials); // 'admin:admin'
```

# Токены

## Виды токенов

### Токен доступа

**Токены доступа** (Access Tokens) представляют собой учётные данные (credentials), которые используеются для доступа к защищенным ресурсам.

*Токены доступа* обычно имеют *короткую продолжительность жизни*, чтобы их нельзя было украсть и постоянно использовать.

### Токен обновления

**Токены обновления** (Refresh Tokens) содержат информацию, необходимую для получения нового токена доступа.

Когда токен доступа требуется для доступа к ресурсу, клиент может обратиться к серверу авторизации (Auth Server) и при помощи токена обновления получить новый токен доступа.

Токены обновления обычно имеют долгую продолжительность жизни.
