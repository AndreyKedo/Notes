# Тестирование

## Почему следует писать тесты?

Отсутствие тестов похоже на вынесение диагноза врачом без необходимых анализов.  

Без тестов ты не можешь быть уверен, всё в твоём приложении всё под контролем, что новый функционал не ломает старый.

## TDD

**Test-Driven Development** (TDD) — подход к разработке и тестированию, при котором сначала создаются тесты, которым должен удовлетворять код, затем его реализация.  

*TDD* имеет *итеративный процесс*. Сперва пишется тест на новый, ещё не реализованный функционал, а затем пишется минимальное количество кода (ничего лишнего) для его реализации. При успешном прохождении теста, можно задуматься о качестве кода и сделать его рефакторинг.

*Преимущества TDD*
- Полное покрытие кода тестами.
- Заранее задумываемся об использовании кода.
- Хорошие тесты являются неплохим примером использования кода (что-то вроде документации).

## BDD

**Behavior-Driven Development** (BDD) — расширение подхода TDD, при котором особое внимание уделяется поведению системы в терминах бизнеса. Такие тесты обычно иллюстрируют и тестируют сценарии, интересные заказчику системы. Поэтому для BDD-тестов используются фреймворки (Chai и Mocha, Jest) с синтаксисом, понятным не только программисту, но и представителю заказчика.

```js
const createArticle = title => ({ title, date: new Date() });

describe('createArticle', () => {
  const article = createArticle('Weather');
  it('should return an object', () => article.to.be.an('object'));
  it('the object should have a "date" and "title" properties', () => {
    expect(article).to.have.property('date'));
    expect(article).to.have.property('title'));
  });
});
```

### TDD vs BDD

TDD-тесты пишутся программистами для программистов.

BDD-тесты могут быть написаны техническими менеджерами или тестировщиками, что позволяет их использовать не только при формальной TDD-разработке, но и при формализации требований к системе.

# Шаблоны тестирования

Шаблоны увеличивают переиспользуемость тестов и улучшают их поддержку.

## Page Object

**Page Object Model** (POM) — шаблон проектирования, представленный в виде модуля (класса), представляющего интерфейс страницы тестируемой системы. 

При таком подходе, тесты оперируют с абстрактными объектами страниц и не завязаны на конкретную реализацию пользовательского интерфейса, его дизайн и вёрстку.

Тесты используют методы POM каждый раз, когда требуется взаимодействие с UI страницы. 

*Преимущества Page Object*
- Изменение дизайна и вёрстки страниц может потребовать изменения только во внутренней реализации объекта страницы, но оно не затрагивает тестовые сценарии, оперирующие данной страницей. 
- Абстрактность интерфейса позволяет переиспользовать тесты для различных девайсов.
различных устройств и разрешений экранов, что очень удобно.
